<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>【O】小程序的二三事 | MengZeATY</title>
  <meta name="description" content="微信小程序">
<meta name="keywords" content="mengze,梦泽,微信,小程序,编程,开发">
<meta property="og:type" content="article">
<meta property="og:title" content="【O】小程序的二三事">
<meta property="og:url" content="https://mengze.top/[O]小程序的二三事/index.html">
<meta property="og:site_name" content="Meng Ze">
<meta property="og:description" content="微信小程序">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://wx4.sinaimg.cn/large/006I6aXRly1fw268i69oej30by0by76e.jpg">
<meta property="og:image" content="http://wx4.sinaimg.cn/large/006I6aXRly1frcegivcfcj30ag0in0t3.jpg">
<meta property="og:updated_time" content="2020-07-10T14:45:34.084Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="【O】小程序的二三事">
<meta name="twitter:description" content="微信小程序">
<meta name="twitter:image" content="http://wx4.sinaimg.cn/large/006I6aXRly1fw268i69oej30by0by76e.jpg">
  <!-- Canonical links -->
  <link rel="canonical" href="https://mengze.top/[O]小程序的二三事/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Meng Ze" type="application/atom+xml">
  
  
    <link rel="icon" href="/images/MZ_White.png" type="image/x-icon">
  
  <link rel="stylesheet" href="/css/style.css">
  
  
  
    <link href="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.3.5/dist/jquery.fancybox.min.css" rel="stylesheet">
  
  
</head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://mengze.top">
          <img class="img-circle img-rotate" src="/images/head.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">MengZeATY</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">Dream Founder &amp; Creator</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Qingdao, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-emotion">
          <a href="/心情随笔/">
            
            <i class="icon icon-jiaju"></i>
            
            <span class="menu-title">随笔</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-essay">
          <a href="/手记编程设计/">
            
            <i class="icon icon-time"></i>
            
            <span class="menu-title">手记</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">项目</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-resume">
          <a href="/pages/resume/resume.html">
            
            <i class="icon icon-starfish"></i>
            
            <span class="menu-title">简历</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">友链</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-more"></i>
            
            <span class="menu-title">关于</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/AaronTYin" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="https://weibo.com/6148427895" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <b>网站正在全面改版中，最新动态请关注微博或BiliBili：MengZeATY，感谢大家的支持和等待，mengze.top即将开启新的征程，希望届时还能为大家带来更加完善的精彩。</b>
            </div>
        </div>
    </div>
</div>

    
      

    
      
  <div class="widget">
    <h3 class="widget-title">标签</h3>
    <div class="widget-body">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/English/">English</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/后期设计/">后期设计</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小说随笔/">小说随笔</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/嵌入式/">嵌入式</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/手记/">手记</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/文学/">文学</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生物医学/">生物医学</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/电子硬件/">电子硬件</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/编程/">编程</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/自然科学/">自然科学</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/通信/">通信</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签云</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/English/" style="font-size: 13.57px;">English</a> <a href="/tags/前端/" style="font-size: 13.29px;">前端</a> <a href="/tags/后期设计/" style="font-size: 13px;">后期设计</a> <a href="/tags/小说随笔/" style="font-size: 13px;">小说随笔</a> <a href="/tags/嵌入式/" style="font-size: 13.14px;">嵌入式</a> <a href="/tags/手记/" style="font-size: 13.43px;">手记</a> <a href="/tags/文学/" style="font-size: 13.86px;">文学</a> <a href="/tags/生物医学/" style="font-size: 13px;">生物医学</a> <a href="/tags/电子硬件/" style="font-size: 14px;">电子硬件</a> <a href="/tags/编程/" style="font-size: 13.71px;">编程</a> <a href="/tags/自然科学/" style="font-size: 13px;">自然科学</a> <a href="/tags/通信/" style="font-size: 13px;">通信</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">归档</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2026/">2026</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/">2018</a><span class="archive-list-count">49</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/">2010</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#MZTools小程序"><span class="toc-number">1.</span> <span class="toc-text">MZTools小程序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考："><span class="toc-number">2.</span> <span class="toc-text">参考：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-开发文档"><span class="toc-number">2.1.</span> <span class="toc-text">1.开发文档</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-60秒倒计时示例"><span class="toc-number">2.2.</span> <span class="toc-text">2.60秒倒计时示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-格式化输出时间"><span class="toc-number">2.3.</span> <span class="toc-text">3.格式化输出时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-this和that"><span class="toc-number">2.4.</span> <span class="toc-text">4.this和that</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-wx-for"><span class="toc-number">2.5.</span> <span class="toc-text">5.wx:for</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-应用与页面的生命周期"><span class="toc-number">2.6.</span> <span class="toc-text">6.应用与页面的生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-页面跳转"><span class="toc-number">2.7.</span> <span class="toc-text">7.页面跳转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-数据缓存"><span class="toc-number">2.8.</span> <span class="toc-text">8.数据缓存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-页面间数据转换"><span class="toc-number">2.9.</span> <span class="toc-text">9.页面间数据转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-错误"><span class="toc-number">2.10.</span> <span class="toc-text">10.错误</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-其他"><span class="toc-number">2.11.</span> <span class="toc-text">11.其他</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-小程序社区"><span class="toc-number">2.12.</span> <span class="toc-text">12.小程序社区</span></a></li></ol></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-[O]小程序的二三事" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      【O】小程序的二三事
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/[O]小程序的二三事/" class="article-date">
	  <time datetime="2018-05-14T16:00:00.000Z" itemprop="datePublished">2018-05-15</time>
	</a>
</span>
        
        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link" href="/tags/编程/">编程</a>
  </span>


        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill" aria-hidden="true"></i>
	    <span id="busuanzi_container_page_pv">
			<span id="busuanzi_value_page_pv">0</span>
		</span>
	</span>


        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/[O]小程序的二三事/#comments" class="article-comment-link">评论</a></span>
        
	
		<span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 2k(字)</span>
	
	
		<span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 8(分)</span>
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <hr>
<a id="more"></a>
<h2 id="MZTools小程序"><a href="#MZTools小程序" class="headerlink" title="MZTools小程序"></a>MZTools小程序</h2><p>　　<a href="https://github.com/AaronTYin/OwnLifeMZ.git" target="_blank" rel="external">源码–Github</a><br>　　<img src="http://wx4.sinaimg.cn/large/006I6aXRly1fw268i69oej30by0by76e.jpg" alt="MZTools"></p>
<h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2><h3 id="1-开发文档"><a href="#1-开发文档" class="headerlink" title="1.开发文档"></a>1.开发文档</h3><p>　　<a href="https://developers.weixin.qq.com/miniprogram/dev/" target="_blank" rel="external">微信小程序开发文档（官方）</a><br>　　<a href="https://www.w3cschool.cn/weixinapp/" target="_blank" rel="external">微信小程序开发文档（W3Cschool）</a></p>
<h3 id="2-60秒倒计时示例"><a href="#2-60秒倒计时示例" class="headerlink" title="2.60秒倒计时示例"></a>2.60秒倒计时示例</h3><p>　　<a href="https://www.w3cschool.cn/xiaochengxu/nsgq1u7h.html" target="_blank" rel="external">小程序自学系列（零基础学小程序001）—小程序实现简单的倒计时效果</a><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--index.wxml--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">text</span>&gt;</span>倒计时: &#123;&#123;second&#125;&#125; <span class="tag">&lt;/<span class="name">text</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//index.js</span></div><div class="line"><span class="comment">// 从从60到到0倒计时</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">countdown</span>(<span class="params">that</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> second = that.data.second</div><div class="line">  <span class="comment">//使得Page外的函数变量可以同步数据到wxml</span></div><div class="line">  <span class="keyword">var</span> time = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  that.setData(&#123;</div><div class="line">    second: second - <span class="number">1</span></div><div class="line">  &#125;);</div><div class="line">  countdown(that);</div><div class="line"> &#125;</div><div class="line"> ,<span class="number">1000</span>)</div><div class="line">&#125;</div><div class="line">Page(&#123;</div><div class="line">  data: &#123;</div><div class="line">    second: <span class="number">60</span></div><div class="line">  &#125;,</div><div class="line">onLoad: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  countdown(<span class="keyword">this</span>);</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="3-格式化输出时间"><a href="#3-格式化输出时间" class="headerlink" title="3.格式化输出时间"></a>3.格式化输出时间</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 在需要使用的js文件中，导入js  </span></div><div class="line"><span class="keyword">var</span> util = <span class="built_in">require</span>(<span class="string">'../../utils/util.js'</span>);  </div><div class="line">Page(&#123;  </div><div class="line">  data: &#123;  </div><div class="line">  time:util.formatTime(<span class="keyword">new</span> <span class="built_in">Date</span>())</div><div class="line">  &#125;,  </div><div class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="comment">//调用函数时，传入new Date()参数，返回值是日期和时间  </span></div><div class="line">    <span class="keyword">var</span> time = util.formatTime(<span class="keyword">new</span> <span class="built_in">Date</span>());  </div><div class="line">    <span class="comment">//再通过setData更改Page()里面的data，动态更新页面的数据  </span></div><div class="line">    <span class="keyword">this</span>.setData(&#123;  </div><div class="line">      time: time  </div><div class="line">    &#125;);</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>　　更详细的用法，请参照util.js。</p>
<h3 id="4-this和that"><a href="#4-this和that" class="headerlink" title="4.this和that"></a>4.this和that</h3><p>　　<a href="https://blog.csdn.net/qq_35713752/article/details/78879984" target="_blank" rel="external">this.setData,that.setData,this.data.val三者之间的区别和作用</a></p>
<p>　　示例一：示例一为错误示例，会出现 this.setData is not a function 的报错，原因是此时的this对象指的是setTimeout  里面的匿名函数对象，但是在这种情况下还是想动态渲染视图，就需要把当前的this的状态保存起来，然后在 setTimeout 里面的匿名函数对象内调用。如示例二。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">onLoad:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </div><div class="line">  setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="keyword">this</span>.setData(&#123;  </div><div class="line">      open: <span class="number">111</span>  </div><div class="line">    &#125;,<span class="number">1000</span>)  </div><div class="line">  &#125;)  </div><div class="line">&#125;,</div></pre></td></tr></table></figure></p>
<p>　　示例二：保存当前对象的this状态，在 setTimeout  里面的匿名函数对象内调用，此时能够做到动态选择视图同时数据和视图都不会出错。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">onLoad:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </div><div class="line">  <span class="keyword">var</span> that= <span class="keyword">this</span>;  </div><div class="line">  setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  </div><div class="line">    that.setData(&#123;  </div><div class="line">      open: <span class="number">111</span>  </div><div class="line">    &#125;,<span class="number">1000</span>)  </div><div class="line">  &#125;)  </div><div class="line">&#125;,</div></pre></td></tr></table></figure></p>
<h3 id="5-wx-for"><a href="#5-wx-for" class="headerlink" title="5.wx:for"></a>5.wx:for</h3><p>　　在组件上使用 wx:for 控制属性绑定一个数组，即可使用数组中各项的数据重复渲染该组件。<br>　　默认数组的当前项的下标变量名默认为 index，数组当前项的变量名默认为 item<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;array&#125;&#125;"</span>&gt;</span></div><div class="line">  &#123;&#123;index&#125;&#125;: &#123;&#123;item.message&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></div><div class="line">Page(&#123;</div><div class="line">  data: &#123;</div><div class="line">    array: [&#123;</div><div class="line">      message: 'foo',</div><div class="line">    &#125;, &#123;</div><div class="line">      message: 'bar'</div><div class="line">    &#125;]</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>　　使用 wx:for-item 可以指定数组当前元素的变量名，<br>　　使用 wx:for-index 可以指定数组当前下标的变量名：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;array&#125;&#125;"</span> <span class="attr">wx:for-index</span>=<span class="string">"idx"</span> <span class="attr">wx:for-item</span>=<span class="string">"itemName"</span>&gt;</span></div><div class="line">  &#123;&#123;idx&#125;&#125;: &#123;&#123;itemName.message&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></div><div class="line">wx:for 也可以嵌套，下边是一个九九乘法表</div><div class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;[1, 2, 3, 4, 5, 6, 7, 8, 9]&#125;&#125;"</span> <span class="attr">wx:for-item</span>=<span class="string">"i"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;[1, 2, 3, 4, 5, 6, 7, 8, 9]&#125;&#125;"</span> <span class="attr">wx:for-item</span>=<span class="string">"j"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">"&#123;&#123;i &lt;= j&#125;&#125;"</span>&gt;</span></div><div class="line">      &#123;&#123;i&#125;&#125; * &#123;&#123;j&#125;&#125; = &#123;&#123;i * j&#125;&#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>　　<a href="https://www.w3cschool.cn/weixinapp/weixinapp-list.html" target="_blank" rel="external">微信小程序 列表渲染 wx:for</a></p>
<p>　　<a href="https://blog.csdn.net/just_do_it_1993/article/details/69392386" target="_blank" rel="external">微信小程序开发——wx:for循环渲染元素如何修改点击样式</a></p>
<p>效果图（主要是数据的改变和传递）</p>
<p>　　<img src="http://wx4.sinaimg.cn/large/006I6aXRly1frcegivcfcj30ag0in0t3.jpg" alt="xchx1"></p>
<h3 id="6-应用与页面的生命周期"><a href="#6-应用与页面的生命周期" class="headerlink" title="6.应用与页面的生命周期"></a>6.应用与页面的生命周期</h3><p><strong>App()</strong><br>　　App() 函数用来注册一个小程序。接受一个 object 参数，其指定小程序的生命周期函数等。<br>　　App.prototype.getCurrentPage() 用户获取当前页面的实例。</p>
<p><strong>getApp()</strong><br>　　我们提供了全局的 getApp() 函数，可以获取到小程序实例。</p>
<p>注意：<br>　　App() 必须在 app.js 中注册，且不能注册多个。<br>　　不要在定义于 App() 内的函数中调用 getApp() ，使用 this 就可以拿到 app 实例。<br>　　不要在 onLaunch 的时候调用 getCurrentPage()，此时 page 还没有生成。<br>　　通过 getApp() 获取实例之后，不要私自调用生命周期函数。</p>
<p><strong>Page()</strong><br>　　Page() 函数用来注册一个页面。接受一个 object 参数，其指定页面的初始数据、生命周期函数、事件处理函数等。</p>
<p><strong>初始化数据</strong><br>　　初始化数据将作为页面的第一次渲染。data 将会以 JSON 的形式由逻辑层传至渲染层，所以其数据必须是可以转成 JSON 的格式：字符串，数字，布尔值，对象，数组。<br>　　渲染层可以通过 WXML 对数据进行绑定。</p>
<p><strong>生命周期函数</strong><br>onLoad: 页面加载<br>　　一个页面只会调用一次。参数可以获取wx.navigateTo和wx.redirectTo及<navigator>中的 query。<br>onShow: 页面显示<br>　　每次打开页面都会调用一次。<br>onReady: 页面初次渲染完成<br>　　一个页面只会调用一次，代表页面已经准备妥当，可以和视图层进行交互。<br>　　对界面的设置如wx.setNavigationBarTitle请在onReady之后设置。详见生命周期<br>onHide: 页面隐藏<br>　　当navigateTo或底部tab切换时调用。<br>onUnload: 页面卸载<br>　　当redirectTo或navigateBack的时候调用。</navigator></p>
<p><strong>页面相关事件处理函数</strong><br>onPullDownRefresh: 下拉刷新<br>　　监听用户下拉刷新事件。<br>　　需要在config的window选项中开启enablePullDownRefresh。<br>　　当处理完数据刷新后，wx.stopPullDownRefresh可以停止当前页面的下拉刷新。</p>
<p><strong>setData()</strong><br>　　接受一个对象，以 key，value 的形式表示将 this.data 中的 key 对应的值改变成 value。</p>
<p>　　<a href="https://blog.csdn.net/u014702332/article/details/52735805" target="_blank" rel="external">微信小程序开发—应用与页面的生命周期</a></p>
<h3 id="7-页面跳转"><a href="#7-页面跳转" class="headerlink" title="7.页面跳转"></a>7.页面跳转</h3><p>a.保留当前页面，跳转到应用内的某个页面，使用wx.navigateBack可以返回到原页面。<br>　　注意：调用 navigateTo 跳转时，调用该方法的页面会被加入堆栈，但是 redirectTo<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">wx.navigateTo(&#123;</div><div class="line">  url: <span class="string">'page/home/home?user_id=111'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>b.关闭当前页面，跳转到应用内的某个页面。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">wx.redirectTo(&#123;</div><div class="line">  url: <span class="string">'page/home/home?user_id=111'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>c.跳转到tabBar页面（在app.json中注册过的tabBar页面），同时关闭其他非tabBar页面。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">wx.switchTab(&#123;</div><div class="line">  url: <span class="string">'page/index/index'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>d.关闭所有页面，打开到应用内的某个页面。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">wx.reLanch(&#123;</div><div class="line">  url: <span class="string">'page/home/home?user_id=111'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>　　<a href="https://www.cnblogs.com/yaoyuqian/p/7967472.html" target="_blank" rel="external">微信小程序页面跳转方法总结</a></p>
<h3 id="8-数据缓存"><a href="#8-数据缓存" class="headerlink" title="8.数据缓存"></a>8.数据缓存</h3><p><strong>wx.setStorage(OBJECT)</strong><br>　　将数据存储在本地缓存中指定的 key 中，会覆盖掉原来该 key 对应的内容，这是一个异步接口。<br><strong>wx.setStorageSync(KEY,DATA)</strong><br>　　将 data 存储在本地缓存中指定的 key 中，会覆盖掉原来该 key 对应的内容，这是一个同步接口。<br><strong>wx.getStorage(OBJECT)</strong><br>　　从本地缓存中异步获取指定 key 对应的内容。<br><strong>wx.getStorageSync(KEY)</strong><br>　　从本地缓存中同步获取指定 key 对应的内容。<br><strong>wx.getStorageInfo(OBJECT)</strong><br>　　异步获取当前storage的相关信息。<br><strong>wx.getStorageInfoSync()</strong><br>　　同步获取当前storage的相关信息。<br><strong>wx.removeStorage(OBJECT)</strong><br>　　从本地缓存中异步移除指定 key。<br><strong>wx.removeStorageSync(KEY)</strong><br>　　从本地缓存中同步移除指定 key。<br><strong>wx.clearStorage()</strong><br>　　清理本地数据缓存。<br><strong>wx.clearStorageSync()</strong><br>　　同步清理本地数据缓存。</p>
<p>　　<a href="https://developers.weixin.qq.com/miniprogram/dev/api/data.html" target="_blank" rel="external">小程序数据缓存（官方）</a><br>　　<a href="www.jb51.net/article/103283.htm">微信小程序 缓存（本地缓存、异步缓存、同步缓存）详解</a></p>
<h3 id="9-页面间数据转换"><a href="#9-页面间数据转换" class="headerlink" title="9.页面间数据转换"></a>9.页面间数据转换</h3><p><strong>利用全局变量进行页面间数据转换</strong><br>　　把常用且不会更改的参数放在APP.js的data里面，在各个page中都可以拿到var app = getApp();页面上就可以用app.data拿到存在data中的参数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//app.js</span></div><div class="line">tempData:&#123;</div><div class="line">    tt:<span class="string">'TempString'</span></div><div class="line">&#125;,</div><div class="line"></div><div class="line"><span class="comment">//x.js</span></div><div class="line"><span class="keyword">var</span> app = getApp();</div><div class="line"><span class="keyword">var</span> x_tt = <span class="string">''</span>;</div><div class="line">onLunch: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.setData(&#123;</div><div class="line">        x_tt:app.tempData.tt</div><div class="line">    &#125;)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//z.wxml</span></div><div class="line">&lt;view&gt;</div><div class="line">&lt;text&gt;&#123;&#123;x_tt&#125;&#125;&lt;<span class="regexp">/text&gt;</span></div><div class="line"><span class="regexp">&lt;/</span>view&gt;</div></pre></td></tr></table></figure></p>
<p>　　<a href="https://www.cnblogs.com/yangpeng0517/p/7467260.html" target="_blank" rel="external">微信小程序开发之数据存储 参数传递 数据缓存</a></p>
<h3 id="10-错误"><a href="#10-错误" class="headerlink" title="10.错误"></a>10.错误</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> message;</div><div class="line">message.push(<span class="number">1</span>);</div><div class="line"></div><div class="line"><span class="comment">//报错：Cannot read property 'push' of undefined.</span></div></pre></td></tr></table></figure>
<p>　　将var message改为var message = [];<br>　　push是数组的一个方法，而不是undefined的一个方法，所以message需要是一个数组。</p>
<h3 id="11-其他"><a href="#11-其他" class="headerlink" title="11.其他"></a>11.其他</h3><p>　　JavaScript<strong>数组</strong>、<strong>类型转换</strong>相关，由于精力有限，此处不便赘述，请参考各JavaScript教程。</p>
<h3 id="12-小程序社区"><a href="#12-小程序社区" class="headerlink" title="12.小程序社区"></a>12.小程序社区</h3><p>　　<a href="http://www.wxapp-union.com" target="_blank" rel="external">小程序社区</a></p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="https://mengze.top/[O]小程序的二三事/" title="【O】小程序的二三事" target="_blank" rel="external">https://mengze.top/[O]小程序的二三事/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本站所有文章除特别声明外，均遵循 <u><a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN</a></u> 及 <u><a href="https://mengze.top/MZ-ATY%E6%B3%9B%E5%86%85%E5%AE%B9%E8%81%94%E5%90%88%E5%A3%B0%E6%98%8E/" target="_blank" rel="external">MZ-ATY VCJS 1.0</a></u> 协议。转载请附上原文出处链接和本声明。
    </li>
  </ul>
</blockquote>

    </div>
  </article>
  
    
  <section id="comments">
  	
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/[K]Brenneman综合征/" title="【K】Brenneman综合征"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/[E]大三_莫不是人生的又一折点/" title="【E】大三_莫不是人生的又一折点"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,qzone,wechat,douban,linkedin" data-mobile-sites="weibo,qq,qzone,wechat,douban,linkedin"></div>
    
  </div>
  </div>
</nav>
  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>感谢您的支持，我会继续努力的!</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">扫码打赏，你说多少就多少</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码打赏哦</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">扫码打赏，你说多少就多少</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码打赏哦</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
    
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/AaronTYin" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="https://weibo.com/6148427895" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
        
        &copy; 2017-2020 MengZeATY
        
        <div class="publishby">
            <p>Theme <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a> by <a href="https://github.com/cofess" target="_blank"> cofess </a><br>
            Hosted by <a href="https://pages.coding.me" style="font-weight: bold" rel="external nofollow">Coding Pages</a></p>
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script src="/js/plugin.min.js"></script>
<script src="/js/application.js"></script>

    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>





   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





   


  <script src="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.3.5/dist/jquery.fancybox.min.js"></script>
  <script>
  //利用 FancyBox 实现点击图片放大
  $(document).ready(function() {
    $('article img').not('[hidden]').not('.panel-body img').each(function() {
      var $image = $(this);
      var imageCaption = $image.attr('alt');
      var $imageWrapLink = $image.parent('a');
      if ($imageWrapLink.length < 1) {
        var src = this.getAttribute('src');
        var idx = src.lastIndexOf('?');
        if (idx != -1) {
          src = src.substring(0, idx);
        }
        $imageWrapLink = $image.wrap('<a href="' + src + '"></a>').parent('a');
      }
      $imageWrapLink.attr('data-fancybox', 'images');
      if (imageCaption) {
        $imageWrapLink.attr('data-caption', imageCaption);
      }
    });
    $().fancybox({
      selector: '[data-fancybox="images"]',
      hash: false,
      loop: false,
    });
  });
  </script>





</body>
</html>