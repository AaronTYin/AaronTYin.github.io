<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>【O】加减交替定点原码除法器的FPGA实现 | MengZeATY</title>
  <meta name="description" content="加减交替定点原码除法器的FPGA实现">
<meta name="keywords" content="mengze,梦泽,除法器,verilog,HDl,FPGA,硬件描述语言,定点原码,不恢复余数,加减交替,电子,硬件">
<meta property="og:type" content="article">
<meta property="og:title" content="【O】加减交替定点原码除法器的FPGA实现">
<meta property="og:url" content="https://mengze.top/[O]加减交替定点原码除法器的FPGA实现/index.html">
<meta property="og:site_name" content="Meng Ze">
<meta property="og:description" content="加减交替定点原码除法器的FPGA实现">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/1.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/2.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/3.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/4.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/5.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/6.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/7.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/8.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/9.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/10.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/11.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/12.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/13.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/14.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/15.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/16.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/17.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/18.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/19.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/20.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/21.png">
<meta property="og:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/22.png">
<meta property="og:updated_time" content="2020-07-17T13:12:21.313Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="【O】加减交替定点原码除法器的FPGA实现">
<meta name="twitter:description" content="加减交替定点原码除法器的FPGA实现">
<meta name="twitter:image" content="https://mengze.top/sourcefile/[O]加减交替定点原码除法器的FPGA实现/1.png">
  <!-- Canonical links -->
  <link rel="canonical" href="https://mengze.top/[O]加减交替定点原码除法器的FPGA实现/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Meng Ze" type="application/atom+xml">
  
  
    <link rel="icon" href="/images/MZ_White.png" type="image/x-icon">
  
  <link rel="stylesheet" href="/css/style.css">
  
  
  
    <link href="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.3.5/dist/jquery.fancybox.min.css" rel="stylesheet">
  
  
</head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://mengze.top">
          <img class="img-circle img-rotate" src="/images/head.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">MengZeATY</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">Dream Founder &amp; Creator</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Qingdao, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-emotion">
          <a href="/[S]心情随笔/">
            
            <i class="icon icon-jiaju"></i>
            
            <span class="menu-title">随笔</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-essay">
          <a href="/[S]手记编程设计/">
            
            <i class="icon icon-time"></i>
            
            <span class="menu-title">手记</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">标签</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">项目</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-resume">
          <a href="/pages/resume/resume.html">
            
            <i class="icon icon-starfish"></i>
            
            <span class="menu-title">简历</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">友链</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-more"></i>
            
            <span class="menu-title">关于</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/AaronTYin" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="https://weibo.com/6148427895" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <b>　　网站全面改版进行中，自此所有内容的首发均放于本站，更新动态发布于微博-<a href="https://weibo.com/u/6148427895" style="color:darkorchid;">MengZeATY</a>，视频依托于BiliBili-<a href="https://space.bilibili.com/270805824/" style="color:darkorchid;">MengZeATY</a>，感谢大家的支持和等待，mengze.top即将开启新的征程，希望为大家带来更加完善的精彩。</b>
            </div>
        </div>
    </div>
</div>

    
      

    
      
  <div class="widget">
    <h3 class="widget-title">标签</h3>
    <div class="widget-body">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/FPGA/">FPGA</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web开发/">Web开发</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/书影感评/">书影感评</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图影设计/">图影设计</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/基本学识/">基本学识</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/嵌入式/">嵌入式</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生物医学/">生物医学</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/站内页面/">站内页面</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/编程算法/">编程算法</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/自然科学/">自然科学</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/语言积累/">语言积累</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随笔短文/">随笔短文</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签云</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/FPGA/" style="font-size: 14px;">FPGA</a> <a href="/tags/Web开发/" style="font-size: 13.33px;">Web开发</a> <a href="/tags/书影感评/" style="font-size: 13.5px;">书影感评</a> <a href="/tags/图影设计/" style="font-size: 13px;">图影设计</a> <a href="/tags/基本学识/" style="font-size: 13px;">基本学识</a> <a href="/tags/嵌入式/" style="font-size: 13px;">嵌入式</a> <a href="/tags/生物医学/" style="font-size: 13px;">生物医学</a> <a href="/tags/站内页面/" style="font-size: 13.83px;">站内页面</a> <a href="/tags/编程算法/" style="font-size: 13.83px;">编程算法</a> <a href="/tags/自然科学/" style="font-size: 13.83px;">自然科学</a> <a href="/tags/语言积累/" style="font-size: 13.67px;">语言积累</a> <a href="/tags/随笔短文/" style="font-size: 13.17px;">随笔短文</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">归档</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2026/">2026</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/">2018</a><span class="archive-list-count">50</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017</a><span class="archive-list-count">15</span></li></ul>
    </div>
  </div>


    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#课程设计目的"><span class="toc-number">1.</span> <span class="toc-text">课程设计目的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#摘要"><span class="toc-number">2.</span> <span class="toc-text">摘要</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#除法器简介"><span class="toc-number">3.</span> <span class="toc-text">除法器简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#恢复余数除法简介"><span class="toc-number">4.</span> <span class="toc-text">恢复余数除法简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#加减交替除法简介"><span class="toc-number">5.</span> <span class="toc-text">加减交替除法简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设计方案"><span class="toc-number">6.</span> <span class="toc-text">设计方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#建立Verilog模型"><span class="toc-number">7.</span> <span class="toc-text">建立Verilog模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#16位寄存器模块"><span class="toc-number">7.1.</span> <span class="toc-text">16位寄存器模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16位加法器模块"><span class="toc-number">7.2.</span> <span class="toc-text">16位加法器模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16位相反数求补器模块"><span class="toc-number">7.3.</span> <span class="toc-text">16位相反数求补器模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#移位器模块"><span class="toc-number">7.4.</span> <span class="toc-text">移位器模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#选择器模块"><span class="toc-number">7.5.</span> <span class="toc-text">选择器模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#恢复余数模块"><span class="toc-number">7.6.</span> <span class="toc-text">恢复余数模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#测试模块"><span class="toc-number">7.7.</span> <span class="toc-text">测试模块</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#功能仿真"><span class="toc-number">8.</span> <span class="toc-text">功能仿真</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#逻辑综合"><span class="toc-number">9.</span> <span class="toc-text">逻辑综合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-number">10.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考文献"><span class="toc-number">11.</span> <span class="toc-text">参考文献</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#附录"><span class="toc-number">12.</span> <span class="toc-text">附录</span></a></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-[O]加减交替定点原码除法器的FPGA实现" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      【O】加减交替定点原码除法器的FPGA实现
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/[O]加减交替定点原码除法器的FPGA实现/" class="article-date">
	  <time datetime="2018-09-30T16:00:00.000Z" itemprop="datePublished">2018-10-01</time>
	</a>
</span>
        
        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link" href="/tags/FPGA/">FPGA</a>
  </span>


        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill" aria-hidden="true"></i>
	    <span id="busuanzi_container_page_pv">
			<span id="busuanzi_value_page_pv">0</span>
		</span>
	</span>


        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/[O]加减交替定点原码除法器的FPGA实现/#comments" class="article-comment-link">评论</a></span>
        
	
		<span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 5.3k(字)</span>
	
	
		<span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 23(分)</span>
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <hr>
<a id="more"></a>
<p>　　<a href="https://github.com/AaronTYin/0-HDL-IC_CurriculumDesign" target="_blank" rel="external">Github：0-HDL-IC_CurriculumDesign</a></p>
<h2 id="课程设计目的"><a href="#课程设计目的" class="headerlink" title="课程设计目的"></a>课程设计目的</h2><p>　　通过本次课程设计，灵活运用所学知识，掌握不恢复余数加减交替法原码除法器的原理和实现方法，熟悉FPGA的设计和开发过程，在实际操作中找到不足和存在的问题，不断提升自己，进一步学习FPGA的相关操作，使自己在学习和实践中积累更多经验。</p>
<h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>　　除法作为四则运算中重要的组成之一，在算数运算中占据重要地位。而除法运算相比于其他运算又具有更加严苛的难度，因此对除法器的深入研究有助于深入理解其他运算的过程和原理。本文对传统的恢复余数除法器电路进行改进，采用一种不恢复余数的加减交替设计方法，设计实现16位定点原码除法器，不仅可以克服恢复余数效率低的缺点，也可以解决运算过程太过复杂等问题，从而在实际电路中使原码除法器的运算速度和面积达到更优。</p>
<p>　　关键词：除法器；定点原码；不恢复余数法；加减交替；运算速度</p>
<h2 id="除法器简介"><a href="#除法器简介" class="headerlink" title="除法器简介"></a>除法器简介</h2><p>　　除法是四则运算之一。已知两个因数的积与其中一个非零因数，求另一个因数的运算，叫做除法。 </p>
<p>　　两个数相除又叫做两个数的比。若ab=c（b≠0）,用积数c和因数b来求另一个因数a的运算就是除法，写作c÷b，读作c除以b（或b除c）。其中，c叫做被除数，b叫做除数，运算的结果a叫做商。</p>
<p>　　如果除式的商数必须是整数，而除数和被除数并非因数关系的话，会出现相差的数值，其相差（以下的d）为余数。通常不定义除以零这种形式。</p>
<p>　　长除法俗称「长除」，适用于正式除法、小数除法、多项式除法（即因式分解）等较重视计算过程和商数的除法，过程中兼用了乘法和减法。根据乘法表，两个整数可以用长除法（直式除法）笔算。 如果被除数有分数部分（或者说是小数点），计算时将小数点带下来就可以；如果除数有小数点，将除数与被除数的小数点同时移位，直到除数没有小数点。算盘也可以做除法运算。</p>
<p>　　短除法俗称「短除」，适用于快速除法、多个整数同步除法（故此常用于求出最大公因数和最小公倍数）、二进位数字转换等较重视倍数测试和质因数（连乘式）的除法，过程大多只需用到九九乘法表及 9 以上少许整数的相乘因数。</p>
<p>　　带余除法就是带有余数的除法，被除数=除数×商+余数。带余除法主要包括整数的带余除法和多项式的带余除法。其中，整数的带余除法定理为：对于任意的a,b(设a≥b且b≠0)，存在唯一的商q和余数r 使得a=bq+r。多项式的带余除法则与之类似。</p>
<p>　　定点小数除法：|X|&lt;|Y|，且Y不为0；<br>　　定点整数除法：|X|≥|Y|，且Y不为0。</p>
<h2 id="恢复余数除法简介"><a href="#恢复余数除法简介" class="headerlink" title="恢复余数除法简介"></a>恢复余数除法简介</h2><p>　　定点原码一位除法器的原理是根据人工进行二进制除法的规则：判断被除数与除数的大小，若被除数小，则上商0，并在余数最低位补0，再用余数和右移一位的除数比，若够除，则上商1，否则上商0。然后继续重复上述步骤，直到除尽（即余数为0）或已得到的商的位数满足精度要求为止。另外，上商0还是1是计算者用观察比较的办法确定的，而计算机只能用做减法判断结果的符号为负还是为正来确定。当差为负时，上商为0，同时还应把除数再加到差上去，恢复余数为原来的正值之后再将其左移一位。若减得的差为0或为正值时，就没有恢复余数的操作，上商为1，余数左移一位。</p>
<p><strong>设：</strong><br>　　X=X<sub>7</sub>X<sub>6</sub>X<sub>5</sub>X<sub>4</sub>X<sub>3</sub>X<sub>2</sub>X<sub>1</sub>X<sub>0</sub>，Y=Y<sub>7</sub>Y<sub>6</sub>Y<sub>5</sub>Y<sub>4</sub>Y<sub>3</sub>Y<sub>2</sub>Y<sub>1</sub>Y<sub>0</sub>，其中高四位X<sub>7</sub>X<sub>6</sub>X<sub>5</sub>X<sub>4</sub>和Y<sub>7</sub>Y<sub>6</sub>Y<sub>5</sub>Y<sub>4</sub>为符号位，低四位X<sub>3</sub>X<sub>2</sub>X<sub>1</sub>X<sub>0</sub>和Y<sub>3</sub>Y<sub>2</sub>Y<sub>1</sub>Y<sub>0</sub>为数据位。则：XY=K*|X||Y|，其中，|X|和|Y|为X和Y的绝对值，K为X和Y的符号位的异或值。<br>　　|X||Y|利用恢复余数法求的，商根据余数的符号是正或负来判断。当为负时，上商为0，同时还应该把除数再加到差上去，恢复余数为原来的正值之后再左移一位。若差为0或为正值时，就没有恢复余数的操作，上商为1，余数左移一位。</p>
<p>　　设被除数X=0.1011，除数Y=-0.1101，除法人工计算过程：<br>　　<div style="width:50%;"><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/1.png" alt="dych1"></div><br>　　商：0.10110，余数：0.10110×2<sup>-5</sup>。</p>
<p>　　人工进行二进制除法的规则：判断被除数与除数的大小，若被除数小，则上商0，并在余数最低位补0，再用余数和右移一位的除数比，若够除，则上商1，否则上商0。然后继续重复上述步骤，直到除尽(即余数为零)或已得到的商的位数满足精度要求为止。</p>
<p>　　右移除数，可以通过左移被除数(余数)来替代，左移出界的被除数(余数)的高位都是无用的零，对运算不会产生任何影响。另外，上商0还是1是计算者用观察比较的办法确定的，而在计算机中，只能用做减法判结果的符号为负还是为正来确定。</p>
<p>　　当差为负时上商为0，同时还应把除数再加到差上，恢复余数为原来的正值之后再将其左移一位。若差为正或为0时，没有恢复余数的操作，上商为1，余数左移一位。这种方法称为恢复余数法。</p>
<p>　　缺点：当某一次-Y的差值为负时，要多做一次+恢复余数的操作，降低了执行速度，又使控制线路变得复杂，因此在计算机中很少采用。</p>
<p><strong>例：</strong>X=0.1011,Y=0.1101，用恢复余数法求X/Y。<br><strong>解：</strong>[-Y]<sub>补</sub>=11.0011，取双符号位，-Y用+[-Y]<sub>补</sub>取代。<br>　　<img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/2.png" alt="dych2"><br>　　商：X/Y=0.1101，余数=0.0111×2<sup>-4</sup>。</p>
<p>　　计算机中普遍采用的是不恢复余数的除法方案，称之为加减交替法</p>
<h2 id="加减交替除法简介"><a href="#加减交替除法简介" class="headerlink" title="加减交替除法简介"></a>加减交替除法简介</h2><p>　　加减交替法是对恢复余数除法的一种修正。当某一次求得的差值(余数Ri)为负时，不是恢复它，而是继续求下一位商，但用加上除数(+Y)的办法来取代(-Y)操作，其他操作依然不变。 </p>
<p>　　加减交替法的规则如下：<br>　　　　（1）当余数为正时，商上1，求下一位商的办法，是余数左移一位，再减去除数；<br>　　　　（2）当余数为负时，商上0，求下一位商的办法，是余数左移一位，再加上除数。<br>　　此方法不用恢复余数，所以又叫不恢复余数法。但若最后一次上商为0，而又需得到正确余数，则在这最后一次仍需恢复余数。</p>
<p><strong>例：</strong>X=0.1011,  Y=0.1101，用加减交替法求X/Y。<br><strong>解：</strong>[-Y]<sub>补</sub>=11.0011，取双符号位，-Y用+[-Y]<sub>补</sub>取代。<br>　　<img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/3.png" alt="dych3"><br>商：X/Y=0.1101，余数：0.0111×2<sup>-4</sup>。</p>
<p><strong>附：补码加减交替除法</strong><br>　　从[X]<sub>补</sub>与[Y]<sub>补</sub>直接求[X/Y]<sub>补</sub>。</p>
<p>　　补码除法规则比原码除法规则复杂。当除数和被除数用补码表示时，判别是否够减，要比较它们的绝对值的大小</p>
<p>　　若两数同符号，要用减法，若异号，则要用加法。</p>
<p>　　对于判断是否够减，及确定本次上商1还是0的规则，还与结果的符号有关。<br>　　当商为正时，商的每一位上的值与原码表示一致；当商为负时，商的各位应是补码形式的值，一般先按各位的反码值上商，除完后，再用在最低位上加1的办法求出正确的补码值。</p>
<p>　　在被除数的绝对值小于除数的绝对值(即商不溢出)的情况下，补码一位除法的运算规则如下：</p>
<p>　　 (1)如果被除数与除数同号，用被除数减去除数；<br>　　　　如果被除数与除数异号，用被除数加上除数。<br>　　　　如果所得余数与除数同号上商1，<br>　　　　如果所得余数与除数异号上商0，<br>　　　　该商即为结果的符号位。</p>
<p> 　　(2)求商的数值部分。<br>　　　　如果上次上商1，将余数左移一位后减去除数；<br>　　　　如果上次上商0，将余数左移一位后加上除数。<br>　　　　如果所得余数与除数同号上商1；<br>　　　　如果所得余数与除数异号上商0。<br>　　　　如此重复执行n-1次(设数值部分n位)。</p>
<p>　　(3)商的最后一位一般采用恒置1的办法，并省略了最低位+1的操作，此时最大误差为±2-n。如果对商的精度要求较高，则可按规则(2)再进行一次操作并执行加[Y]<sub>补</sub>或加[-Y]<sub>补</sub>恢复余数，以求得商的第n位。<br>　　当除不尽时：若商为正，商的最低位不加1；若商为负，商的最低位加1，使商从反码值变成补码值。<br>　　当能除尽时：若除数为正，商的最低位不加1；若除数为负，商的最低位加1。<br><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/4.png" alt="dych4"><br>　　说明：(1) 表中i=0～n-1。<br>　　　　　(2) 商一般采用末位恒置“1”的方法，操作简便。</p>
<h2 id="设计方案"><a href="#设计方案" class="headerlink" title="设计方案"></a>设计方案</h2><p>4.1 设计原理<br>　　算法为不恢复余数的加减交替法，包含数据寄存器模块、加法器模块、相反数求补器模块、移位器模块、选择器模块、余数恢复器模块。</p>
<p><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/5.png" alt="dych5"><br><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/6.png" alt="dych6"></p>
<p>　　除法开始前，除数的原码放在输入寄存器中。除法开始后，首先用被除数减去除数，若运算结果大于0，商上1。若结果小于0，商上 0。然后被除数左移一位。若商的最后一位为0，需要恢复余数，否则直接输出结果，结束运算。</p>
<h2 id="建立Verilog模型"><a href="#建立Verilog模型" class="headerlink" title="建立Verilog模型"></a>建立Verilog模型</h2><h3 id="16位寄存器模块"><a href="#16位寄存器模块" class="headerlink" title="16位寄存器模块"></a>16位寄存器模块</h3><figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*输入寄存器（16+1位输入，16+2位输出）</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="keyword">module</span> ireg(<span class="comment">//output reg [1:0]sign,</span></div><div class="line">                <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">17</span>:<span class="number">0</span>]iregout,</div><div class="line">                <span class="keyword">input</span> [<span class="number">16</span>:<span class="number">0</span>]iregin,</div><div class="line">                <span class="keyword">input</span> clk);</div><div class="line"></div><div class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)</div><div class="line"><span class="keyword">begin</span></div><div class="line">    iregout[<span class="number">16</span>:<span class="number">0</span>]&lt;=iregin;</div><div class="line">    iregout[<span class="number">17</span>]&lt;=iregin[<span class="number">16</span>];</div><div class="line">    <span class="comment">//sign[0]&lt;=iregin[16];</span></div><div class="line">    <span class="comment">//sign[1]&lt;=iregin[16];</span></div><div class="line"><span class="keyword">end</span></div><div class="line"><span class="keyword">endmodule</span>                   </div><div class="line"></div><div class="line"><span class="comment">/*商寄存器（16+1位输入，16+1位输出）</span></div><div class="line"><span class="comment">（输出商只需要1位符号位，即一共17位）</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="keyword">module</span> oreg(<span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">16</span>:<span class="number">0</span>]oregout,</div><div class="line">                <span class="keyword">input</span> [<span class="number">16</span>:<span class="number">0</span>]oregin,</div><div class="line">                <span class="keyword">input</span> clk);</div><div class="line"></div><div class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)</div><div class="line"><span class="keyword">begin</span></div><div class="line">    oregout&lt;=oregin;</div><div class="line"><span class="keyword">end</span></div><div class="line"><span class="keyword">endmodule</span>                   </div><div class="line"></div><div class="line"><span class="comment">/*余数寄存器</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="keyword">module</span> remreg();</div><div class="line"><span class="comment">//用加法器替代</span></div><div class="line"><span class="keyword">endmodule</span></div></pre></td></tr></table></figure>
<p>　　主要用于输入的符号位扩展即寄存功能。</p>
<p><strong>寄存器模块电路结构：</strong><br><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/7.png" alt="dych7"><br><strong>寄存器模块测试：</strong><br><figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="meta">`<span class="meta-keyword">timescale</span> 1ns/1ps</span></div><div class="line"><span class="keyword">module</span> IC;</div><div class="line"><span class="keyword">wire</span> [<span class="number">17</span>:<span class="number">0</span>]iregout;</div><div class="line"><span class="keyword">wire</span> [<span class="number">16</span>:<span class="number">0</span>]oregout;</div><div class="line"><span class="keyword">reg</span> [<span class="number">16</span>:<span class="number">0</span>]iregin;</div><div class="line"><span class="keyword">reg</span> [<span class="number">16</span>:<span class="number">0</span>]oregin;</div><div class="line"><span class="keyword">reg</span> clk;</div><div class="line"></div><div class="line"><span class="keyword">initial</span></div><div class="line"><span class="keyword">begin</span></div><div class="line">    clk=<span class="number">1'b0</span>;</div><div class="line">    <span class="keyword">forever</span> #<span class="number">10</span> clk=~clk;</div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="keyword">initial</span></div><div class="line"><span class="keyword">begin</span></div><div class="line">    iregin=<span class="number">17'b0_1010_1010_1010_1010</span>;</div><div class="line">    oregin=<span class="number">17'b0_1010_1010_1010_1010</span>;</div><div class="line">    #<span class="number">20</span> iregin=<span class="number">17'b0_1010_1000_1010_1000</span>;</div><div class="line">         oregin=<span class="number">17'b0_1010_1000_1010_1000</span>;</div><div class="line">    #<span class="number">20</span> iregin=<span class="number">17'b1_0000_0001_0000_0001</span>;</div><div class="line">         oregin=<span class="number">17'b1_0000_0001_0000_0001</span>;</div><div class="line">    #<span class="number">20</span> iregin=<span class="number">17'b1_0000_0101_0000_0101</span>;</div><div class="line">         oregin=<span class="number">17'b1_0000_0101_0000_0101</span>;</div><div class="line">    #<span class="number">50</span> <span class="built_in">$stop</span>;</div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line">ireg irA0(iregout,iregin,clk);</div><div class="line">oreg orB0(oregout,oregin,clk);</div><div class="line"><span class="keyword">endmodule</span></div></pre></td></tr></table></figure></p>
<p><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/8.png" alt="dych8"></p>
<h3 id="16位加法器模块"><a href="#16位加法器模块" class="headerlink" title="16位加法器模块"></a>16位加法器模块</h3><figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">module</span> adder(<span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">17</span>:<span class="number">0</span>]addout,</div><div class="line">                <span class="keyword">output</span> <span class="keyword">reg</span> resone,</div><div class="line">                <span class="keyword">input</span> [<span class="number">17</span>:<span class="number">0</span>]adda,</div><div class="line">                <span class="keyword">input</span> [<span class="number">17</span>:<span class="number">0</span>]addb,</div><div class="line">                <span class="keyword">input</span> clk);</div><div class="line"></div><div class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)</div><div class="line"><span class="keyword">begin</span></div><div class="line">    addout=adda+addb;</div><div class="line">    resone=~addout[<span class="number">17</span>];</div><div class="line"><span class="keyword">end</span></div><div class="line"><span class="keyword">endmodule</span></div></pre></td></tr></table></figure>
<p><strong>加法器模块电路结构：</strong><br><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/9.png" alt="dych9"><br><strong>加法器模块测试：</strong><br><figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="meta">`<span class="meta-keyword">timescale</span> 1ns/1ps</span></div><div class="line"><span class="keyword">module</span> IC;</div><div class="line"><span class="keyword">wire</span> [<span class="number">17</span>:<span class="number">0</span>]addout;</div><div class="line"><span class="keyword">wire</span> resone;</div><div class="line"><span class="keyword">reg</span> [<span class="number">17</span>:<span class="number">0</span>]adda;</div><div class="line"><span class="keyword">reg</span> [<span class="number">17</span>:<span class="number">0</span>]addb;</div><div class="line"><span class="keyword">reg</span> clk;</div><div class="line"></div><div class="line"><span class="keyword">initial</span></div><div class="line"><span class="keyword">begin</span></div><div class="line">    clk=<span class="number">1'b0</span>;</div><div class="line">    <span class="keyword">forever</span> #<span class="number">10</span> clk=~clk;</div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="keyword">initial</span></div><div class="line"><span class="keyword">begin</span></div><div class="line">    adda=<span class="number">18'b11_0101_0000_0101_0000</span>;</div><div class="line">    addb=<span class="number">18'b00_0000_0101_0000_0101</span>;</div><div class="line">    #<span class="number">20</span> adda=<span class="number">18'b00_1010_0000_1010_0000</span>;</div><div class="line">         addb=<span class="number">18'b11_0000_1010_0000_1010</span>;</div><div class="line">    #<span class="number">20</span> adda=<span class="number">18'b00_0011_0011_0011_0011</span>;</div><div class="line">         addb=<span class="number">18'b00_1100_1100_1100_1100</span>;</div><div class="line">    #<span class="number">20</span> adda=<span class="number">18'b11_1001_0000_1001_0000</span>;</div><div class="line">         addb=<span class="number">18'b11_0000_1001_0000_1001</span>;</div><div class="line">    #<span class="number">50</span> <span class="built_in">$stop</span>;</div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line">adder add(addout,resone,adda,addb,clk);</div><div class="line"><span class="keyword">endmodule</span></div></pre></td></tr></table></figure></p>
<p><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/10.png" alt="dych10"></p>
<h3 id="16位相反数求补器模块"><a href="#16位相反数求补器模块" class="headerlink" title="16位相反数求补器模块"></a>16位相反数求补器模块</h3><figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">module</span> complement(<span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">16</span>:<span class="number">0</span>]comout,</div><div class="line">                        <span class="keyword">input</span> [<span class="number">16</span>:<span class="number">0</span>]comin,</div><div class="line">                        <span class="keyword">input</span> clk);</div><div class="line"></div><div class="line"><span class="keyword">reg</span> [<span class="number">15</span>:<span class="number">0</span>]comtmp;</div><div class="line"></div><div class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)</div><div class="line"><span class="keyword">begin</span></div><div class="line">    comtmp[<span class="number">0</span>]=~comin[<span class="number">0</span>];</div><div class="line">    comtmp[<span class="number">1</span>]=~comin[<span class="number">1</span>];</div><div class="line">    comtmp[<span class="number">2</span>]=~comin[<span class="number">2</span>];</div><div class="line">    comtmp[<span class="number">3</span>]=~comin[<span class="number">3</span>];</div><div class="line">    comtmp[<span class="number">4</span>]=~comin[<span class="number">4</span>];</div><div class="line">    comtmp[<span class="number">5</span>]=~comin[<span class="number">5</span>];</div><div class="line">    comtmp[<span class="number">6</span>]=~comin[<span class="number">6</span>];</div><div class="line">    comtmp[<span class="number">7</span>]=~comin[<span class="number">7</span>];</div><div class="line">    comtmp[<span class="number">8</span>]=~comin[<span class="number">8</span>];</div><div class="line">    comtmp[<span class="number">9</span>]=~comin[<span class="number">9</span>];</div><div class="line">    comtmp[<span class="number">10</span>]=~comin[<span class="number">10</span>];</div><div class="line">    comtmp[<span class="number">11</span>]=~comin[<span class="number">11</span>];</div><div class="line">    comtmp[<span class="number">12</span>]=~comin[<span class="number">12</span>];</div><div class="line">    comtmp[<span class="number">13</span>]=~comin[<span class="number">13</span>];</div><div class="line">    comtmp[<span class="number">14</span>]=~comin[<span class="number">14</span>];</div><div class="line">    comtmp[<span class="number">15</span>]=~comin[<span class="number">15</span>];</div><div class="line">    comtmp=comtmp+<span class="number">16'b0000_0000_0000_0001</span>;</div><div class="line">    comout=comtmp;</div><div class="line">    comout[<span class="number">16</span>]=~comin[<span class="number">16</span>];</div><div class="line"><span class="keyword">end</span></div><div class="line"><span class="keyword">endmodule</span></div></pre></td></tr></table></figure>
<p><strong>相反数求补器模块测试：</strong><br><figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="meta">`<span class="meta-keyword">timescale</span> 1ns/1ps</span></div><div class="line"><span class="keyword">module</span> IC;</div><div class="line"><span class="keyword">wire</span> [<span class="number">16</span>:<span class="number">0</span>]comout;</div><div class="line"><span class="keyword">reg</span> [<span class="number">16</span>:<span class="number">0</span>]comin;</div><div class="line"><span class="keyword">reg</span> clk;</div><div class="line"></div><div class="line"><span class="keyword">initial</span></div><div class="line"><span class="keyword">begin</span></div><div class="line">    clk=<span class="number">1'b0</span>;</div><div class="line">    <span class="keyword">forever</span> #<span class="number">10</span> clk=~clk;</div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="keyword">initial</span></div><div class="line"><span class="keyword">begin</span></div><div class="line">    comin=<span class="number">17'b1_0000_0101_0000_0101</span>;</div><div class="line">    #<span class="number">20</span> comin=<span class="number">17'b1_1010_0000_1010_0000</span>;</div><div class="line">    #<span class="number">20</span> comin=<span class="number">17'b0_0000_0101_0000_0101</span>;</div><div class="line">    #<span class="number">20</span> comin=<span class="number">17'b0_1010_0000_1010_0000</span>;</div><div class="line">    #<span class="number">50</span> <span class="built_in">$stop</span>;</div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line">complement com(comout,comin,clk);</div><div class="line"><span class="keyword">endmodule</span></div></pre></td></tr></table></figure></p>
<p><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/11.png" alt="dych11"></p>
<h3 id="移位器模块"><a href="#移位器模块" class="headerlink" title="移位器模块"></a>移位器模块</h3><figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">module</span> shift(<span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">17</span>:<span class="number">0</span>]remout,</div><div class="line">                <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">16</span>:<span class="number">0</span>]resout,</div><div class="line">                <span class="keyword">input</span> [<span class="number">17</span>:<span class="number">0</span>]remin,</div><div class="line">                <span class="keyword">input</span> [<span class="number">16</span>:<span class="number">0</span>]resin,</div><div class="line">                <span class="keyword">input</span> resone,</div><div class="line">                <span class="keyword">input</span> clk);</div><div class="line">                </div><div class="line"><span class="keyword">reg</span> [<span class="number">34</span>:<span class="number">0</span>]shitmp;   <span class="comment">//35=17+18=(16+1)+(16+2)</span></div><div class="line"></div><div class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)</div><div class="line"><span class="keyword">begin</span></div><div class="line">    shitmp[<span class="number">0</span>]=resone;</div><div class="line">    shitmp[<span class="number">16</span>:<span class="number">1</span>]=resin[<span class="number">16</span>:<span class="number">1</span>];</div><div class="line">    shitmp[<span class="number">34</span>:<span class="number">17</span>]=remin[<span class="number">17</span>:<span class="number">0</span>];</div><div class="line">    shitmp=shitmp&lt;&lt;<span class="number">1</span>;</div><div class="line">    resout=shitmp[<span class="number">16</span>:<span class="number">0</span>];</div><div class="line">    remout[<span class="number">17</span>:<span class="number">0</span>]=shitmp[<span class="number">34</span>:<span class="number">17</span>];</div><div class="line"><span class="keyword">end</span></div><div class="line"><span class="keyword">endmodule</span></div></pre></td></tr></table></figure>
<p><strong>移位器模块电路结构：</strong><br><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/12.png" alt="dych12"><br><strong>移位器模块测试：</strong><br><figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="meta">`<span class="meta-keyword">timescale</span> 1ns/1ps</span></div><div class="line"><span class="keyword">module</span> IC;</div><div class="line"><span class="keyword">wire</span> [<span class="number">17</span>:<span class="number">0</span>]remout;</div><div class="line"><span class="keyword">wire</span> [<span class="number">16</span>:<span class="number">0</span>]resout;</div><div class="line"><span class="keyword">reg</span> [<span class="number">17</span>:<span class="number">0</span>]remin;</div><div class="line"><span class="keyword">reg</span> [<span class="number">16</span>:<span class="number">0</span>]resin;</div><div class="line"><span class="keyword">reg</span> resone;</div><div class="line"><span class="keyword">reg</span> clk;</div><div class="line"></div><div class="line"><span class="keyword">initial</span></div><div class="line"><span class="keyword">begin</span></div><div class="line">    clk=<span class="number">1'b0</span>;</div><div class="line">    <span class="keyword">forever</span> #<span class="number">10</span> clk=~clk;</div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="keyword">initial</span></div><div class="line"><span class="keyword">begin</span></div><div class="line">  resone=<span class="number">1'b1</span>;</div><div class="line">    remin=<span class="number">18'b11_0000_0101_0000_0101</span>;</div><div class="line">    resin=<span class="number">17'b1_0000_0101_0000_0101</span>;</div><div class="line">    #<span class="number">20</span> remin=<span class="number">18'b11_1010_0000_1010_0000</span>;</div><div class="line">         resin=<span class="number">17'b1_1010_0000_1010_0000</span>;</div><div class="line">    #<span class="number">20</span> remin=<span class="number">18'b00_1100_1100_1100_1100</span>;</div><div class="line">         resin=<span class="number">17'b0_1100_1100_1100_1100</span>;</div><div class="line">    #<span class="number">20</span> remin=<span class="number">18'b00_1111_0000_1111_0000</span>;</div><div class="line">         resin=<span class="number">17'b0_1111_0000_1111_0000</span>;</div><div class="line">    #<span class="number">50</span> <span class="built_in">$stop</span>;</div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line">shift shi(remout,resout,remin,resin,resone,clk);</div><div class="line"><span class="keyword">endmodule</span></div></pre></td></tr></table></figure></p>
<p><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/13.png" alt="dych13"></p>
<h3 id="选择器模块"><a href="#选择器模块" class="headerlink" title="选择器模块"></a>选择器模块</h3><figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">module</span> chose(<span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">17</span>:<span class="number">0</span>]choout,</div><div class="line">                <span class="keyword">input</span> [<span class="number">16</span>:<span class="number">0</span>]choin,</div><div class="line">                <span class="keyword">input</span> resreg,</div><div class="line">                <span class="keyword">input</span> clk);</div><div class="line"></div><div class="line"><span class="keyword">reg</span> [<span class="number">15</span>:<span class="number">0</span>]chotmp;</div><div class="line"></div><div class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)</div><div class="line"><span class="keyword">begin</span></div><div class="line">    <span class="keyword">if</span>(!resreg)</div><div class="line">    <span class="keyword">begin</span></div><div class="line">        choout[<span class="number">16</span>:<span class="number">0</span>]=choin;</div><div class="line">        choout[<span class="number">17</span>]=choin[<span class="number">16</span>];</div><div class="line">    <span class="keyword">end</span></div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(resreg)</div><div class="line">    <span class="keyword">begin</span></div><div class="line">        chotmp[<span class="number">0</span>]=~choin[<span class="number">0</span>];</div><div class="line">        chotmp[<span class="number">1</span>]=~choin[<span class="number">1</span>];</div><div class="line">        chotmp[<span class="number">2</span>]=~choin[<span class="number">2</span>];</div><div class="line">        chotmp[<span class="number">3</span>]=~choin[<span class="number">3</span>];</div><div class="line">        chotmp[<span class="number">4</span>]=~choin[<span class="number">4</span>];</div><div class="line">        chotmp[<span class="number">5</span>]=~choin[<span class="number">5</span>];</div><div class="line">        chotmp[<span class="number">6</span>]=~choin[<span class="number">6</span>];</div><div class="line">        chotmp[<span class="number">7</span>]=~choin[<span class="number">7</span>];</div><div class="line">        chotmp[<span class="number">8</span>]=~choin[<span class="number">8</span>];</div><div class="line">        chotmp[<span class="number">9</span>]=~choin[<span class="number">9</span>];</div><div class="line">        chotmp[<span class="number">10</span>]=~choin[<span class="number">10</span>];</div><div class="line">        chotmp[<span class="number">11</span>]=~choin[<span class="number">11</span>];</div><div class="line">        chotmp[<span class="number">12</span>]=~choin[<span class="number">12</span>];</div><div class="line">        chotmp[<span class="number">13</span>]=~choin[<span class="number">13</span>];</div><div class="line">        chotmp[<span class="number">14</span>]=~choin[<span class="number">14</span>];</div><div class="line">        chotmp[<span class="number">15</span>]=~choin[<span class="number">15</span>];</div><div class="line">        chotmp=chotmp+<span class="number">16'b0000_0000_0000_0001</span>;</div><div class="line">        choout[<span class="number">15</span>:<span class="number">0</span>]=chotmp;</div><div class="line">        choout[<span class="number">16</span>]=~choin[<span class="number">16</span>];</div><div class="line">        choout[<span class="number">17</span>]=~choin[<span class="number">16</span>];</div><div class="line">    <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div><div class="line"><span class="keyword">endmodule</span></div></pre></td></tr></table></figure>
<p><strong>选择器模块电路结构：</strong><br><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/14.png" alt="dych14"><br><strong>选择器模块测试：</strong><br><figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="meta">`<span class="meta-keyword">timescale</span> 1ns/1ps</span></div><div class="line"><span class="keyword">module</span> IC;</div><div class="line"><span class="keyword">wire</span> [<span class="number">17</span>:<span class="number">0</span>]choout;</div><div class="line"><span class="keyword">reg</span> [<span class="number">17</span>:<span class="number">0</span>]choin;</div><div class="line"><span class="keyword">reg</span> resreg;</div><div class="line"><span class="keyword">reg</span> clk;</div><div class="line"></div><div class="line"><span class="keyword">initial</span></div><div class="line"><span class="keyword">begin</span></div><div class="line">    clk=<span class="number">1'b0</span>;</div><div class="line">    <span class="keyword">forever</span> #<span class="number">10</span> clk=~clk;</div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="keyword">initial</span></div><div class="line"><span class="keyword">begin</span></div><div class="line">    resreg=<span class="number">1'b0</span>;</div><div class="line">    choin=<span class="number">18'b11_0000_0101_0000_0101</span>;</div><div class="line">    #<span class="number">20</span> resreg=<span class="number">1'b0</span>;</div><div class="line">         choin=<span class="number">18'b11_1010_0000_1010_0000</span>;</div><div class="line">    #<span class="number">20</span> resreg=<span class="number">1'b1</span>;</div><div class="line">         choin=<span class="number">18'b00_0000_0101_0000_0101</span>;</div><div class="line">    #<span class="number">20</span> resreg=<span class="number">1'b1</span>;</div><div class="line">         choin=<span class="number">18'b00_1010_0000_1010_0000</span>;</div><div class="line">    #<span class="number">50</span> <span class="built_in">$stop</span>;</div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line">chose cho(choout,choin,resreg,clk);</div><div class="line"><span class="keyword">endmodule</span></div></pre></td></tr></table></figure></p>
<p><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/15.png" alt="dych15"></p>
<h3 id="恢复余数模块"><a href="#恢复余数模块" class="headerlink" title="恢复余数模块"></a>恢复余数模块</h3><figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">module</span> remrec(<span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">17</span>:<span class="number">0</span>]rrout,</div><div class="line">                <span class="keyword">input</span> [<span class="number">17</span>:<span class="number">0</span>]rrina,</div><div class="line">                <span class="keyword">input</span> [<span class="number">17</span>:<span class="number">0</span>]rrinb,</div><div class="line">                <span class="keyword">input</span> rrreg,</div><div class="line">                <span class="keyword">input</span> clk);</div><div class="line"></div><div class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)</div><div class="line"><span class="keyword">if</span>(!rrreg)</div><div class="line">    rrout=rrina+rrinb;</div><div class="line"><span class="keyword">endmodule</span></div></pre></td></tr></table></figure>
<p><strong>恢复余数模块电路结构：</strong><br><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/16.png" alt="dych16"><br><strong>恢复余数模块测试：</strong><br><figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="meta">`<span class="meta-keyword">timescale</span> 1ns/1ps</span></div><div class="line"><span class="keyword">module</span> IC;</div><div class="line"><span class="keyword">wire</span> [<span class="number">17</span>:<span class="number">0</span>]rrout;</div><div class="line"><span class="keyword">reg</span> [<span class="number">17</span>:<span class="number">0</span>]rrina;</div><div class="line"><span class="keyword">reg</span> [<span class="number">17</span>:<span class="number">0</span>]rrinb;</div><div class="line"><span class="keyword">reg</span> rrreg;</div><div class="line"><span class="keyword">reg</span> clk;</div><div class="line"></div><div class="line"><span class="keyword">initial</span></div><div class="line"><span class="keyword">begin</span></div><div class="line">    clk=<span class="number">1'b0</span>;</div><div class="line">    <span class="keyword">forever</span> #<span class="number">10</span> clk=~clk;</div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="keyword">initial</span></div><div class="line"><span class="keyword">begin</span></div><div class="line">    rrreg=<span class="number">1'b0</span>;</div><div class="line">    rrina=<span class="number">18'b11_0000_0101_0000_0101</span>;</div><div class="line">    rrinb=<span class="number">18'b11_1010_0000_1010_0000</span>;</div><div class="line">    #<span class="number">20</span> rrreg=<span class="number">1'b0</span>;</div><div class="line">         rrina=<span class="number">18'b11_1010_0000_1010_0000</span>;</div><div class="line">         rrinb=<span class="number">18'b00_0000_0101_0000_0101</span>;</div><div class="line">    #<span class="number">20</span> rrreg=<span class="number">1'b1</span>;</div><div class="line">         rrina=<span class="number">18'b00_0000_0101_0000_0101</span>;</div><div class="line">         rrinb=<span class="number">18'b11_1010_0000_1010_0000</span>;</div><div class="line">    #<span class="number">20</span> rrreg=<span class="number">1'b1</span>;</div><div class="line">         rrina=<span class="number">18'b00_1010_0000_1010_0000</span>;</div><div class="line">         rrinb=<span class="number">18'b00_0000_0101_0000_0101</span>;</div><div class="line">    #<span class="number">50</span> <span class="built_in">$stop</span>;</div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line">remrec rr(rrout,rrina,rrinb,rrreg,clk);</div><div class="line"><span class="keyword">endmodule</span></div></pre></td></tr></table></figure></p>
<p><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/17.png" alt="dych17"></p>
<h3 id="测试模块"><a href="#测试模块" class="headerlink" title="测试模块"></a>测试模块</h3><figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="meta">`<span class="meta-keyword">timescale</span> 1 ns/ 1 ps</span></div><div class="line"><span class="keyword">module</span> IC;</div><div class="line"><span class="keyword">reg</span> clk;</div><div class="line"><span class="keyword">wire</span> [<span class="number">16</span>:<span class="number">0</span>]dividend;</div><div class="line"><span class="keyword">wire</span> [<span class="number">16</span>:<span class="number">0</span>]divisor;</div><div class="line"><span class="keyword">wire</span> [<span class="number">16</span>:<span class="number">0</span>]remainder;</div><div class="line"><span class="keyword">wire</span> [<span class="number">16</span>:<span class="number">0</span>]result;</div><div class="line"></div><div class="line">IC_CDesign i1(</div><div class="line">    <span class="variable">.clk</span>(clk),</div><div class="line">    <span class="variable">.dividend</span>(dividend),</div><div class="line">    <span class="variable">.divisor</span>(divisor),</div><div class="line">    <span class="variable">.remainder</span>(remainder),</div><div class="line">    <span class="variable">.result</span>(result));</div><div class="line"></div><div class="line"><span class="keyword">always</span> </div><div class="line">    #<span class="number">10</span> clk=~clk;</div><div class="line"></div><div class="line"><span class="keyword">initial</span></div><div class="line"><span class="keyword">begin</span></div><div class="line">    clk=<span class="number">0</span>;</div><div class="line">    <span class="comment">//dividend=17'b0_1010_0000_1010_0000;</span></div><div class="line">    <span class="comment">//divisor=17'b0_0001_1010_0001_1010;</span></div><div class="line">    #<span class="number">1000</span> <span class="built_in">$stop</span>;</div><div class="line"><span class="keyword">end</span></div><div class="line"><span class="keyword">endmodule</span></div></pre></td></tr></table></figure>
<h2 id="功能仿真"><a href="#功能仿真" class="headerlink" title="功能仿真"></a>功能仿真</h2><p>　　功能仿真是验证所设计的Verilog模型的功能是否正确和符合要求，不涉及设计实现后实际电路的时延等问题。利用Modelsim仿真工具对不恢复余数加减交替的16位定点原码除法器的Verilog模型进行功能仿真。</p>
<p>　　具体仿真波形图如下图所示，图中形象的显示了被除数与除数、初始标志位、商和余数的数值波形。此外可以将过程各项展开，便可观察到整个除法器的运算流程及各模块的过程数值。</p>
<p>仿真波形图<br><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/18.png" alt="dych18"><br><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/19.png" alt="dych19"></p>
<p>通过上图可知各组数据的测试结果如下所示：<br>被除数：0_1010_0000_1010_0000，<br>除数：0_0001_1010_0001_1010，<br>商：1_1100_0110_1110_0000，<br>余数：1_0000_1101_0100_0000。</p>
<h2 id="逻辑综合"><a href="#逻辑综合" class="headerlink" title="逻辑综合"></a>逻辑综合</h2><p>　　逻辑综合是将硬件描述语言描述的设计输入转换成与或非门、触发器、存储器等基本元件的连接关系，根据约束条件对生成的门级逻辑连接进行优化，生成为下一步实现所利用的网表文件。<br>经过优化后，16位定点原码除法器模块的RTL Viewer图如下图所示：</p>
<p>16位定点原码除法器模块RTL_Viewer图<br><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/20.png" alt="dych20"></p>
<p>用QuartusII进行逻辑综合，进行分配引脚，具体如下图所示。之后便可以在FPGA开发板上进行逻辑综合。</p>
<p>引脚分配图<br><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/21.png" alt="dych21"></p>
<p><strong>综合结果：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">Flow Status Successful - Wed Oct 10 14:47:01 2018</div><div class="line">Quartus II 64-Bit Version   13.0.0 Build 156 04/24/2013 SJ Full Version</div><div class="line">Revision Name   IC_CDesign</div><div class="line">Top-level Entity Name   IC_CDesign</div><div class="line">Family  Cyclone</div><div class="line">Device  EP1C12Q240C8</div><div class="line">Timing Models   Final</div><div class="line">Total logic elements    1,369 / 12,060 ( 11 % )</div><div class="line">Total pins  69 / 173 ( 40 % )</div><div class="line">Total virtual pins  0</div><div class="line">Total memory bits   139,264 / 239,616 ( 58 % )</div><div class="line">Total PLLs  0 / 2 ( 0 % )</div></pre></td></tr></table></figure></p>
<pre><code>下载到开发板，用QuartusII的SignalTapII进行硬件测试，传回的数据波形与用Modelsim仿真的数据一致，硬件测试正确。
</code></pre><p><img src="/sourcefile/[O]加减交替定点原码除法器的FPGA实现/22.png" alt="dych22"></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>　　本文对16位不恢复余数加减交替法定点原码除法器进行了设计，掌握了16位定点原码除法器的原理和设计方法，并通过Verilog和QuartusII对该除法器进行功能仿真和逻辑综合，对整个设计和验证过程有了更深刻的理解。通过本次课程设计也明确了16位不恢复余数加减交替法定点原码除法器具有速度快，电路结构简单，占用面积小，带负载能力强的特点，而与16位恢复余数定点原码除法器相比，本文的除法器在实际电路中运算速度和面积可以达到更优。</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><blockquote>
<p>[1]胡乃平 曲英杰 周艳平编著. 计算机组成与结构 —北京：清华大学出版社.2011.10<br>[2]曲英杰 方卓红编著.超大规模集成电路设计 —北京：人民邮电出版社.2015.2<br>[3]袁春风编著. 计算机组成与系统结构 —北京：清华大学出版社.2010.4<br>[4]李亚民编著. 计算机组成与系统结构 —北京：清华大学出版社.2000年<br>[5]夏宇闻. 译.Verilog HDL 数字设计与综合[M].2版.北京:电子工业出版社,2004年</p>
</blockquote>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><p><strong>16位不恢复余数加减交替定点原码除法器模块：</strong><br><figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*顶层模块</span></div><div class="line"><span class="comment">//divisor除数</span></div><div class="line"><span class="comment">//dividend被除数</span></div><div class="line"><span class="comment">//result商</span></div><div class="line"><span class="comment">//remainder余数</span></div><div class="line"><span class="comment">//sign符号</span></div><div class="line"><span class="comment">//clk时钟信号</span></div><div class="line"><span class="comment">32-&gt;16-&gt;8-&gt;4;33-&gt;17-&gt;9-&gt;5;</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="keyword">module</span> IC_CDesign(<span class="comment">//output [1:0]sign,   //两个1位符号位</span></div><div class="line">                        <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">16</span>:<span class="number">0</span>]remainder, <span class="comment">//16是最高位</span></div><div class="line">                        <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">16</span>:<span class="number">0</span>]result,</div><div class="line">                        <span class="keyword">output</span> [<span class="number">16</span>:<span class="number">0</span>]dividend,</div><div class="line">                        <span class="keyword">output</span> [<span class="number">16</span>:<span class="number">0</span>]divisor,</div><div class="line">                        <span class="keyword">input</span> clk);</div><div class="line"></div><div class="line"><span class="keyword">wire</span> [<span class="number">16</span>:<span class="number">0</span>]dividendori=<span class="number">17'b0_1010_0000_1010_0000</span>;</div><div class="line"><span class="keyword">wire</span> [<span class="number">16</span>:<span class="number">0</span>]divisorori=<span class="number">17'b0_0001_1010_0001_1010</span>;</div><div class="line"><span class="keyword">assign</span> dividend=dividendori;</div><div class="line"><span class="keyword">assign</span> divisor=divisorori; <span class="keyword">wire</span> [<span class="number">17</span>:<span class="number">0</span>]dividendtmp;</div><div class="line"><span class="keyword">wire</span> [<span class="number">17</span>:<span class="number">0</span>]divisortmp[<span class="number">16</span>:<span class="number">0</span>];</div><div class="line"><span class="keyword">wire</span> [<span class="number">17</span>:<span class="number">0</span>]remaindertmp[<span class="number">17</span>:<span class="number">0</span>];</div><div class="line"><span class="keyword">wire</span> [<span class="number">17</span>:<span class="number">0</span>]remaindershitmp[<span class="number">15</span>:<span class="number">0</span>];</div><div class="line"><span class="keyword">wire</span> [<span class="number">16</span>:<span class="number">0</span>]resulttmp[<span class="number">17</span>:<span class="number">0</span>];</div><div class="line"><span class="keyword">assign</span> resulttmp[<span class="number">0</span>]=<span class="number">17'b0_0000_0000_0000_0000</span>;</div><div class="line"><span class="keyword">wire</span> resone[<span class="number">17</span>:<span class="number">0</span>];</div><div class="line"><span class="keyword">assign</span> resone[<span class="number">0</span>]=<span class="number">1'b1</span>;  <span class="comment">//首次操作为减除数</span></div><div class="line"></div><div class="line">ireg irA0(dividendtmp,dividendori,clk);</div><div class="line">chose choB1(divisortmp[<span class="number">0</span>],divisorori,resone[<span class="number">0</span>],clk);</div><div class="line">adder addA1(remaindertmp[<span class="number">0</span>],resone[<span class="number">1</span>],dividendtmp,divisortmp[<span class="number">0</span>],clk);</div><div class="line">shift shiA1(remaindershitmp[<span class="number">0</span>],resulttmp[<span class="number">1</span>],remaindertmp[<span class="number">0</span>],resulttmp[<span class="number">0</span>],resone[<span class="number">1</span>],clk);</div><div class="line"></div><div class="line">chose choB2(divisortmp[<span class="number">1</span>],divisor,resone[<span class="number">1</span>],clk);</div><div class="line">adder addA2(remaindertmp[<span class="number">1</span>],resone[<span class="number">2</span>],remaindershitmp[<span class="number">0</span>],divisortmp[<span class="number">1</span>],clk);</div><div class="line">shift shiA2(remaindershitmp[<span class="number">1</span>],resulttmp[<span class="number">2</span>],remaindertmp[<span class="number">1</span>],resulttmp[<span class="number">1</span>],resone[<span class="number">2</span>],clk);</div><div class="line"></div><div class="line">chose choB3(divisortmp[<span class="number">2</span>],divisor,resone[<span class="number">2</span>],clk);</div><div class="line">adder addA3(remaindertmp[<span class="number">2</span>],resone[<span class="number">3</span>],remaindershitmp[<span class="number">1</span>],divisortmp[<span class="number">2</span>],clk);</div><div class="line">shift shiA3(remaindershitmp[<span class="number">2</span>],resulttmp[<span class="number">3</span>],remaindertmp[<span class="number">2</span>],resulttmp[<span class="number">2</span>],resone[<span class="number">3</span>],clk);</div><div class="line"></div><div class="line">chose choB4(divisortmp[<span class="number">3</span>],divisor,resone[<span class="number">3</span>],clk);</div><div class="line">adder addA4(remaindertmp[<span class="number">3</span>],resone[<span class="number">4</span>],remaindershitmp[<span class="number">2</span>],divisortmp[<span class="number">3</span>],clk);</div><div class="line">shift shiA4(remaindershitmp[<span class="number">3</span>],resulttmp[<span class="number">4</span>],remaindertmp[<span class="number">3</span>],resulttmp[<span class="number">3</span>],resone[<span class="number">4</span>],clk);</div><div class="line"></div><div class="line">chose choB5(divisortmp[<span class="number">4</span>],divisor,resone[<span class="number">4</span>],clk);</div><div class="line">adder addA5(remaindertmp[<span class="number">4</span>],resone[<span class="number">5</span>],remaindershitmp[<span class="number">3</span>],divisortmp[<span class="number">4</span>],clk);</div><div class="line">shift shiA5(remaindershitmp[<span class="number">4</span>],resulttmp[<span class="number">5</span>],remaindertmp[<span class="number">4</span>],resulttmp[<span class="number">4</span>],resone[<span class="number">5</span>],clk);</div><div class="line"></div><div class="line">chose choB6(divisortmp[<span class="number">5</span>],divisor,resone[<span class="number">5</span>],clk);</div><div class="line">adder addA6(remaindertmp[<span class="number">5</span>],resone[<span class="number">6</span>],remaindershitmp[<span class="number">4</span>],divisortmp[<span class="number">5</span>],clk);</div><div class="line">shift shiA6(remaindershitmp[<span class="number">5</span>],resulttmp[<span class="number">6</span>],remaindertmp[<span class="number">5</span>],resulttmp[<span class="number">5</span>],resone[<span class="number">6</span>],clk);</div><div class="line"></div><div class="line">chose choB7(divisortmp[<span class="number">6</span>],divisor,resone[<span class="number">6</span>],clk);</div><div class="line">adder addA7(remaindertmp[<span class="number">6</span>],resone[<span class="number">7</span>],remaindershitmp[<span class="number">5</span>],divisortmp[<span class="number">6</span>],clk);</div><div class="line">shift shiA7(remaindershitmp[<span class="number">6</span>],resulttmp[<span class="number">7</span>],remaindertmp[<span class="number">6</span>],resulttmp[<span class="number">6</span>],resone[<span class="number">7</span>],clk);</div><div class="line"></div><div class="line">chose choB8(divisortmp[<span class="number">7</span>],divisor,resone[<span class="number">7</span>],clk);</div><div class="line">adder addA8(remaindertmp[<span class="number">7</span>],resone[<span class="number">8</span>],remaindershitmp[<span class="number">6</span>],divisortmp[<span class="number">7</span>],clk);</div><div class="line">shift shiA8(remaindershitmp[<span class="number">7</span>],resulttmp[<span class="number">8</span>],remaindertmp[<span class="number">7</span>],resulttmp[<span class="number">7</span>],resone[<span class="number">8</span>],clk);</div><div class="line"></div><div class="line">chose choB9(divisortmp[<span class="number">8</span>],divisor,resone[<span class="number">8</span>],clk);</div><div class="line">adder addA9(remaindertmp[<span class="number">8</span>],resone[<span class="number">9</span>],remaindershitmp[<span class="number">7</span>],divisortmp[<span class="number">8</span>],clk);</div><div class="line">shift shiA9(remaindershitmp[<span class="number">8</span>],resulttmp[<span class="number">9</span>],remaindertmp[<span class="number">8</span>],resulttmp[<span class="number">8</span>],resone[<span class="number">9</span>],clk);</div><div class="line"></div><div class="line">chose choB10(divisortmp[<span class="number">9</span>],divisor,resone[<span class="number">9</span>],clk);</div><div class="line">adder addA10(remaindertmp[<span class="number">9</span>],resone[<span class="number">10</span>],remaindershitmp[<span class="number">8</span>],divisortmp[<span class="number">9</span>],clk);</div><div class="line">shift shiA10(remaindershitmp[<span class="number">9</span>],resulttmp[<span class="number">10</span>],remaindertmp[<span class="number">9</span>],resulttmp[<span class="number">9</span>],resone[<span class="number">10</span>],clk);</div><div class="line"></div><div class="line">chose choB11(divisortmp[<span class="number">10</span>],divisor,resone[<span class="number">10</span>],clk);</div><div class="line">adder addA11(remaindertmp[<span class="number">10</span>],resone[<span class="number">11</span>],remaindershitmp[<span class="number">9</span>],divisortmp[<span class="number">10</span>],clk);</div><div class="line">shift shiA11(remaindershitmp[<span class="number">10</span>],resulttmp[<span class="number">11</span>],remaindertmp[<span class="number">10</span>],resulttmp[<span class="number">10</span>],resone[<span class="number">11</span>],clk);</div><div class="line"></div><div class="line">chose choB12(divisortmp[<span class="number">11</span>],divisor,resone[<span class="number">11</span>],clk);</div><div class="line">adder addA12(remaindertmp[<span class="number">11</span>],resone[<span class="number">12</span>],remaindershitmp[<span class="number">10</span>],divisortmp[<span class="number">11</span>],clk);</div><div class="line">shift shiA12(remaindershitmp[<span class="number">11</span>],resulttmp[<span class="number">12</span>],remaindertmp[<span class="number">11</span>],resulttmp[<span class="number">11</span>],resone[<span class="number">12</span>],clk);</div><div class="line"></div><div class="line">chose choB13(divisortmp[<span class="number">12</span>],divisor,resone[<span class="number">12</span>],clk);</div><div class="line">adder addA13(remaindertmp[<span class="number">12</span>],resone[<span class="number">13</span>],remaindershitmp[<span class="number">11</span>],divisortmp[<span class="number">12</span>],clk);</div><div class="line">shift shiA13(remaindershitmp[<span class="number">12</span>],resulttmp[<span class="number">13</span>],remaindertmp[<span class="number">12</span>],resulttmp[<span class="number">12</span>],resone[<span class="number">13</span>],clk);</div><div class="line"></div><div class="line">chose choB14(divisortmp[<span class="number">13</span>],divisor,resone[<span class="number">13</span>],clk);</div><div class="line">adder addA14(remaindertmp[<span class="number">13</span>],resone[<span class="number">14</span>],remaindershitmp[<span class="number">12</span>],divisortmp[<span class="number">13</span>],clk);</div><div class="line">shift shiA14(remaindershitmp[<span class="number">13</span>],resulttmp[<span class="number">14</span>],remaindertmp[<span class="number">13</span>],resulttmp[<span class="number">13</span>],resone[<span class="number">14</span>],clk);</div><div class="line"></div><div class="line">chose choB15(divisortmp[<span class="number">14</span>],divisor,resone[<span class="number">14</span>],clk);</div><div class="line">adder addA15(remaindertmp[<span class="number">14</span>],resone[<span class="number">15</span>],remaindershitmp[<span class="number">13</span>],divisortmp[<span class="number">14</span>],clk);</div><div class="line">shift shiA15(remaindershitmp[<span class="number">14</span>],resulttmp[<span class="number">15</span>],remaindertmp[<span class="number">14</span>],resulttmp[<span class="number">14</span>],resone[<span class="number">15</span>],clk);</div><div class="line"></div><div class="line">chose choB16(divisortmp[<span class="number">15</span>],divisor,resone[<span class="number">15</span>],clk);</div><div class="line">adder addA16(remaindertmp[<span class="number">15</span>],resone[<span class="number">16</span>],remaindershitmp[<span class="number">14</span>],divisortmp[<span class="number">15</span>],clk);</div><div class="line">shift shiA16(remaindershitmp[<span class="number">15</span>],resulttmp[<span class="number">16</span>],remaindertmp[<span class="number">15</span>],resulttmp[<span class="number">15</span>],resone[<span class="number">16</span>],clk);</div><div class="line"></div><div class="line"></div><div class="line">chose choB17(divisortmp[<span class="number">16</span>],divisor,resone[<span class="number">16</span>],clk);</div><div class="line">adder addA17(remaindertmp[<span class="number">16</span>],resone[<span class="number">17</span>],remaindershitmp[<span class="number">15</span>],divisortmp[<span class="number">16</span>],clk);</div><div class="line"><span class="keyword">assign</span> resulttmp[<span class="number">17</span>]=resulttmp[<span class="number">16</span>]+resone[<span class="number">17</span>];</div><div class="line">remrec rr(remaindertmp[<span class="number">17</span>],remaindertmp[<span class="number">16</span>],divisortmp[<span class="number">16</span>],resone[<span class="number">17</span>],clk);</div><div class="line"></div><div class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk)</div><div class="line"><span class="keyword">begin</span></div><div class="line">    result=resulttmp[<span class="number">17</span>];</div><div class="line">    <span class="keyword">if</span>(resone[<span class="number">17</span>])          <span class="comment">//如果最后一位商为1，则不恢复余数，否则恢复余数</span></div><div class="line">        remainder=remaindertmp[<span class="number">16</span>];</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(!resone[<span class="number">17</span>])</div><div class="line">        remainder=remaindertmp[<span class="number">17</span>];</div><div class="line"><span class="keyword">end</span></div><div class="line"><span class="keyword">endmodule</span></div></pre></td></tr></table></figure></p>
<p><strong>测试模块：</strong><br><figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*激励</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="meta">`<span class="meta-keyword">timescale</span> 1 ns/ 1 ps</span></div><div class="line"><span class="keyword">module</span> IC;</div><div class="line"><span class="keyword">reg</span> clk;</div><div class="line"><span class="keyword">wire</span> [<span class="number">16</span>:<span class="number">0</span>]dividend;</div><div class="line"><span class="keyword">wire</span> [<span class="number">16</span>:<span class="number">0</span>]divisor;</div><div class="line"><span class="keyword">wire</span> [<span class="number">16</span>:<span class="number">0</span>]remainder;</div><div class="line"><span class="keyword">wire</span> [<span class="number">16</span>:<span class="number">0</span>]result;</div><div class="line"></div><div class="line">IC_CDesign i1(</div><div class="line">    <span class="variable">.clk</span>(clk),</div><div class="line">    <span class="variable">.dividend</span>(dividend),</div><div class="line">    <span class="variable">.divisor</span>(divisor),</div><div class="line">    <span class="variable">.remainder</span>(remainder),</div><div class="line">    <span class="variable">.result</span>(result));</div><div class="line"></div><div class="line"><span class="keyword">always</span> </div><div class="line">    #<span class="number">10</span> clk=~clk;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">initial</span></div><div class="line"><span class="keyword">begin</span></div><div class="line">    clk=<span class="number">0</span>;</div><div class="line">    <span class="comment">//dividend=17'b0_1010_0000_1010_0000;</span></div><div class="line">    <span class="comment">//divisor=17'b0_0001_1010_0001_1010;</span></div><div class="line">    #<span class="number">1000</span> <span class="built_in">$stop</span>;</div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="keyword">endmodule</span></div></pre></td></tr></table></figure></p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="https://mengze.top/[O]加减交替定点原码除法器的FPGA实现/" title="【O】加减交替定点原码除法器的FPGA实现" target="_blank" rel="external">https://mengze.top/[O]加减交替定点原码除法器的FPGA实现/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本站所有文章除特别声明外，均遵循 <u><a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN</a></u> 及 <u><a href="https://mengze.top/[S]MZ-ATY泛内容联合声明/" target="_blank" rel="external">MZ-ATY VCJS</a></u> 协议。转载请附上原文出处链接和本声明。
    </li>
  </ul>
</blockquote>

    </div>
  </article>
  
    
  <section id="comments">
  	
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/[K]Premier快速入门/" title="【K】Premier快速入门"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/[O]定点原码二位乘法器的FPGA实现/" title="【O】定点原码二位乘法器的FPGA实现"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,qzone,wechat,douban,linkedin" data-mobile-sites="weibo,qq,qzone,wechat,douban,linkedin"></div>
    
  </div>
  </div>
</nav>
  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>感谢您的支持，我会继续努力的!</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">扫码打赏，你说多少就多少</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码打赏哦</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">扫码打赏，你说多少就多少</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码打赏哦</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
    
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/AaronTYin" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="https://weibo.com/6148427895" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
        
        &copy; 2017-2020 <a href="https://mengze.top">MengZeATY</a>
        
        <div class="publishby">
            <p>Theme <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a> by <a href="https://github.com/cofess" target="_blank"> cofess </a><br>
            Hosted by <a href="https://pages.coding.me" style="font-weight: bold" rel="external nofollow">Coding Pages</a></p>
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script src="/js/plugin.min.js"></script>
<script src="/js/application.js"></script>

    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>





   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





   


  <script src="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.3.5/dist/jquery.fancybox.min.js"></script>
  <script>
  //利用 FancyBox 实现点击图片放大
  $(document).ready(function() {
    $('article img').not('[hidden]').not('.panel-body img').each(function() {
      var $image = $(this);
      var imageCaption = $image.attr('alt');
      var $imageWrapLink = $image.parent('a');
      if ($imageWrapLink.length < 1) {
        var src = this.getAttribute('src');
        var idx = src.lastIndexOf('?');
        if (idx != -1) {
          src = src.substring(0, idx);
        }
        $imageWrapLink = $image.wrap('<a href="' + src + '"></a>').parent('a');
      }
      $imageWrapLink.attr('data-fancybox', 'images');
      if (imageCaption) {
        $imageWrapLink.attr('data-caption', imageCaption);
      }
    });
    $().fancybox({
      selector: '[data-fancybox="images"]',
      hash: false,
      loop: false,
    });
  });
  </script>





</body>
</html>